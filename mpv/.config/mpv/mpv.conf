
# old conf
# save-watch-history = yes
# 
# # Video output and backend
# vo=gpu
# gpu-api=opengl
# 
# # Hardware decoding (Intel UHD 620 supports h264, hevc, vp8/9 via VAAPI)
# hwdec=no
# 
# # Performance tuning
# profile=fast
# 
# # Audio
# audio-channels=stereo

write-filename-in-watch-later-config = yes
save-position-on-quit = yes

# Video output and backend
vo=wlshm
gpu-api=opengl
gpu-context=wayland

# Hardware decoding (Intel UHD 620 supports h264, hevc, vp8/9 via VAAPI)
hwdec=vaapi
hwdec-codecs=h264,hevc,vp8,vp9  # exclude av1 (not supported)

# Performance tuning
profile=sw-fast
framedrop=vo        # drop frames only when video can't keep up
opengl-pbo=no      # reduce CPU load
scale=ewa_lanczos   # high-quality upscaling
dscale=mitchell     # smoother downscaling

# Audio
audio-channels=stereo
audio-exclusive=no

# Subtitles
sub-auto=fuzzy
sub-font="Ubuntu"
sub-font-size=24
sub-border-size=2
sub-color="#ffffff"
sub-shadow-color="#000000"

# OSD and stats
osd-bar=yes
osd-level=1
osc=yes

# Screenshot
screenshot-directory=~/pic/mpv-shots
screenshot-format=png

# Logging (optional)
msg-level=ffmpeg/video=info

###################################
# Protocol Specific Configuration #
###################################

[protocol.http]
hls-bitrate=max # use max quality for HLS streams
cache=yes
no-cache-pause # don't pause when the cache runs low
cache-secs=60
demuxer-max-bytes=200MiB
demuxer-max-back-bytes=200MiB

[protocol.https]
profile=protocol.http

[protocol.ytdl]
profile=protocol.http

